# Dify 常见问题解答 (FAQ)

本文档收集了用户在使用 Dify 平台过程中最常见的问题和解答，帮助您快速解决使用中遇到的困难。

## 目录

- [账户与权限](#账户与权限)
- [应用创建与配置](#应用创建与配置)
- [模型与提示词](#模型与提示词)
- [知识库管理](#知识库管理)
- [数据安全与隐私](#数据安全与隐私)
- [API 使用](#api-使用)
- [部署与运维](#部署与运维)
- [计费与资源使用](#计费与资源使用)
- [功能限制与兼容性](#功能限制与兼容性)

## 账户与权限

### Q: 如何注册 Dify 账户？
**A**: 您可以通过以下方式注册 Dify 账户：
1. 访问 Dify 官网 (https://dify.ai)
2. 点击右上角的"注册"按钮
3. 选择通过电子邮件、GitHub 或 Google 账户注册
4. 完成注册流程并验证您的邮箱

### Q: 忘记密码怎么办？
**A**: 在登录页面点击"忘记密码"链接，输入您的注册邮箱，然后按照邮件中的指引重置密码。

### Q: 如何邀请团队成员加入我的工作区？
**A**: 
1. 登录 Dify 平台
2. 点击左侧导航栏底部的工作区设置
3. 选择"成员管理"
4. 点击"邀请成员"按钮
5. 输入受邀者的邮箱地址并选择适当的角色权限
6. 点击"发送邀请"

### Q: Dify 平台不同角色有什么权限区别？
**A**: Dify 主要有以下角色：
- **拥有者**：完全控制权，包括工作区设置、账单管理和删除工作区
- **管理员**：可以管理应用、成员和大多数设置，但不能删除工作区
- **成员**：可以使用和创建应用，但权限受限于管理员的配置
- **访客**：通常只能查看和使用被授权的应用

## 应用创建与配置

### Q: Dify 支持哪些类型的应用？
**A**: Dify 目前支持四种主要类型的应用：
1. **对话式应用**：类似聊天机器人的交互体验
2. **文本生成应用**：一次性生成内容，如文章、摘要等
3. **Agent 应用**：具备使用工具能力的智能体
4. **工作流应用**：通过流程图设计复杂的多步骤处理流程

### Q: 如何创建我的第一个 Dify 应用？
**A**:
1. 登录 Dify 平台
2. 点击"创建应用"按钮
3. 选择应用类型（对话式/文本生成/Agent/工作流）
4. 填写应用基本信息（名称、描述等）
5. 配置模型参数和提示词
6. 点击"创建"按钮完成

### Q: 如何在我的网站中嵌入 Dify 创建的聊天机器人？
**A**: 创建应用后，您可以通过以下步骤嵌入到网站：
1. 在应用管理页面，点击"发布"按钮
2. 选择"Web 组件"集成方式
3. 复制提供的嵌入代码（JavaScript 代码片段）
4. 将代码粘贴到您网站的 HTML 页面底部
5. 保存并刷新您的网站页面，聊天组件将自动显示

### Q: 我可以自定义聊天界面的外观吗？
**A**: 是的，在应用的"发布 > Web 组件"页面，您可以：
1. 修改主题颜色
2. 调整对话框位置（右下角/居中等）
3. 设置欢迎语和气泡图标
4. 自定义 CSS 样式（高级选项）

## 模型与提示词

### Q: Dify 支持哪些 AI 模型？
**A**: Dify 支持多种流行的 AI 模型，包括：
- OpenAI 系列（GPT-3.5, GPT-4 等）
- Anthropic 系列（Claude）
- Hugging Face 上的开源模型
- 百度文心一言
- 阿里通义千问
- Meta 的 Llama 系列
- 本地部署的模型（通过 API 接入）

具体支持的模型列表会随平台更新而扩展。

### Q: 如何设置系统提示词？
**A**:
1. 在应用编辑页面，找到"提示词 > 系统提示词"部分
2. 在编辑框中输入您的系统提示词
3. 系统提示词应描述 AI 的角色、任务和限制
4. 点击"保存"按钮应用更改

### Q: 提示词变量如何使用？
**A**: 提示词变量使用 `{{变量名}}` 格式，设置步骤：
1. 在提示词中使用 `{{变量名}}` 标记变量位置
2. 在"提示词 > 变量"部分添加变量定义
3. 设置变量类型（文本/数字/选项等）
4. 设置默认值和描述
5. 用户在使用应用时可以填入这些变量值

### Q: 如何优化 AI 回答的质量？
**A**:
1. 编写清晰、详细的系统提示词
2. 调整温度参数（低温更精确，高温更创造性）
3. 增加上下文窗口大小（如果模型支持）
4. 设置适当的最大令牌数
5. 使用知识库提供专业领域知识
6. 在测试阶段收集反馈并不断调整

## 知识库管理

### Q: 什么文件格式可以上传到知识库？
**A**: Dify 知识库支持以下格式：
- PDF 文档
- Word 文档 (.docx)
- 文本文件 (.txt)
- Markdown 文件 (.md)
- 网页 URL（通过爬取功能）
- CSV/Excel 表格数据

### Q: 知识库文件大小有限制吗？
**A**: 是的，单个文件的大小限制为 50MB，但具体限制可能因部署方式和配置而异。如需处理更大的文件，建议将其分割为多个小文件上传。

### Q: 如何将知识库关联到我的应用？
**A**:
1. 首先创建知识库并上传相关文档
2. 在应用编辑页面，找到"知识库"部分
3. 点击"添加知识库"
4. 选择要关联的知识库
5. 配置检索参数（相关性分数、检索条数等）
6. 保存配置

### Q: 我的知识库数据如何更新？
**A**: 更新知识库数据有两种方法：
1. **手动更新**：删除旧文档并上传新版本
2. **同步更新**：对于通过 URL 导入的内容，可以使用"重新抓取"功能
3. **API 更新**：通过 API 接口自动化更新知识库文档

## 数据安全与隐私

### Q: Dify 如何保护我的数据安全？
**A**: Dify 采取多项措施保护数据安全：
1. 所有传输数据通过 TLS/SSL 加密
2. 云端部署的实例定期进行安全审计
3. 支持本地私有部署，数据不出本地网络
4. 提供数据备份和导出功能
5. 符合主要的数据保护法规

### Q: 我上传的文档会被用于训练模型吗？
**A**: 不会。您上传到 Dify 平台的文档仅用于您自己的应用，不会被用于训练模型。Dify 尊重您的数据所有权。

### Q: 如何删除我的数据？
**A**:
1. 要删除单个文档，在知识库管理界面选择文档并点击删除按钮
2. 要删除整个知识库，在知识库列表中选择删除操作
3. 要删除应用数据，可以删除应用或清除对话历史
4. 要删除账户，请联系支持团队

## API 使用

### Q: 如何获取 API 密钥？
**A**:
1. 在应用管理页面，点击"API 访问"选项卡
2. 您将看到应用的 API 密钥（App ID 和 API Key）
3. 点击"重置"按钮可以生成新的 API 密钥

### Q: 调用 API 有使用限制吗？
**A**: 是的，API 调用存在以下限制：
1. 每分钟请求次数限制（根据您的账户等级而定）
2. 并发请求数限制
3. 总请求量可能受到模型提供商的配额限制

具体限制请参考 API 文档或联系支持团队。

### Q: API 请求返回错误怎么办？
**A**: 常见 API 错误处理：
1. 检查 API 密钥是否正确
2. 确认请求格式和参数是否符合文档要求
3. 查看错误响应中的详细信息（错误码和描述）
4. 检查网络连接和防火墙设置
5. 查阅 API 文档中的错误处理部分
6. 如果持续出现问题，请联系技术支持

## 部署与运维

### Q: 如何在本地部署 Dify？
**A**: 本地部署 Dify 的基本步骤：
1. 确保服务器满足最低要求（4 核 CPU，8GB RAM，50GB 存储）
2. 安装 Docker 和 Docker Compose
3. 从 GitHub 克隆 Dify 仓库
4. 配置环境变量（.env 文件）
5. 使用 Docker Compose 启动服务
6. 访问配置的 URL 完成初始化设置

详细指南请参考官方文档的部署章节。

### Q: Dify 可以部署在哪些云服务上？
**A**: Dify 可以部署在多种云服务上，包括：
- AWS
- Google Cloud Platform
- Microsoft Azure
- 阿里云
- 腾讯云
- 任何支持 Docker 和 Kubernetes 的云服务

### Q: 如何监控 Dify 的运行状态？
**A**: 监控 Dify 可以通过以下方式：
1. 使用平台内置的使用统计功能
2. 查看 Docker 日志 (`docker logs` 命令)
3. 集成 Prometheus 和 Grafana 进行详细监控
4. 配置监控告警（如 CPU/内存使用率过高）
5. 使用云服务提供商的监控工具

## 计费与资源使用

### Q: Dify 的使用成本如何计算？
**A**: Dify 平台本身是开源免费的，但使用中的成本主要来自：
1. AI 模型提供商的 API 调用费用（如 OpenAI 的 token 费用）
2. 部署所需的服务器和存储成本
3. 如使用云托管版本，可能有额外服务费

### Q: 如何估算和控制使用成本？
**A**: 控制成本的方法：
1. 在应用设置中限制最大令牌使用量
2. 选择成本较低的模型
3. 优化提示词减少令牌使用
4. 监控使用统计，设置使用预警
5. 为应用设置访问限制

### Q: 有无使用量统计功能？
**A**: 是的，Dify 提供基本的使用量统计功能，您可以在应用管理界面查看：
1. 对话次数统计
2. 令牌使用量
3. API 调用次数
4. 用户访问量

## 功能限制与兼容性

### Q: Dify 支持哪些浏览器？
**A**: Dify 支持所有现代浏览器的最新版本，包括：
- Google Chrome
- Mozilla Firefox
- Microsoft Edge
- Safari

建议使用 Chrome 或 Edge 获得最佳体验。

### Q: Dify 有移动版吗？
**A**: Dify 管理界面目前主要针对桌面优化，但创建的聊天应用通过 Web 组件集成后可以在移动设备上良好运行。

### Q: 有无离线使用模式？
**A**: Dify 本身需要网络连接才能运行，但如果您：
1. 在私有环境部署 Dify
2. 使用本地部署的 AI 模型
3. 不依赖外部服务

那么可以在内网环境中完全离线使用。

### Q: 单个知识库可以包含多少文档？
**A**: 当前版本单个知识库的文档数量建议不超过 1000 个，总文本量不超过 100MB。超过这个规模可能会影响检索性能。对于大规模数据，建议分拆为多个知识库。

---

如果您没有找到问题的答案，请通过以下渠道获取帮助：
- 访问 [Dify 官方文档](https://docs.dify.ai)
- 加入 [Discord 社区](https://discord.gg/9K2BqbuXxG)
- 在 [GitHub Issues](https://github.com/langgenius/dify/issues) 提交问题
- 发送邮件至 support@dify.ai 